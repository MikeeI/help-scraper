SET-USER-POOL-MFA-CONFIG()                          SET-USER-POOL-MFA-CONFIG()



NAME
       set-user-pool-mfa-config -

DESCRIPTION
       Sets the user pool multi-factor authentication (MFA) configuration.

       NOTE:
          This  action  might  generate  an SMS text message. Starting June 1,
          2021, US telecom carriers require you  to  register  an  origination
          phone number before you can send SMS messages to U.S. phone numbers.
          If you use SMS text messages in Amazon Cognito, you must register  a
          phone number with Amazon Pinpoint . Amazon Cognito will use the reg-
          istered number automatically. Otherwise, Amazon Cognito  users  that
          must receive SMS messages might be unable to sign up, activate their
          accounts, or sign in.

          If you have never used SMS text messages with Amazon Cognito or  any
          other  Amazon  Web Service, Amazon Simple Notification Service might
          place your account in SMS sandbox. In * sandbox mode *  ,  you  will
          have  limitations,  such  as sending messages only to verified phone
          numbers. After testing in the sandbox environment, you can move  out
          of  the  SMS  sandbox and into production. For more information, see
          SMS message settings for Amazon Cognito User  Pools  in  the  Amazon
          Cognito Developer Guide .

       See also: AWS API Documentation

       See 'aws help' for descriptions of global parameters.

SYNOPSIS
            set-user-pool-mfa-config
          --user-pool-id <value>
          [--sms-mfa-configuration <value>]
          [--software-token-mfa-configuration <value>]
          [--mfa-configuration <value>]
          [--cli-input-json <value>]
          [--generate-cli-skeleton <value>]

OPTIONS
       --user-pool-id (string)
          The user pool ID.

       --sms-mfa-configuration (structure)
          The SMS text message MFA configuration.

          SmsAuthenticationMessage -> (string)
              The  SMS  authentication message that will be sent to users with
              the code they must sign in. The message must contain the  {####}
              placeholder,  which  is  replaced  with the code. If the message
              isn't included, and default message will be used.

          SmsConfiguration -> (structure)
              The SMS configuration.

              SnsCallerArn -> (string)
                 The Amazon Resource Name (ARN) of the Amazon SNS caller. This
                 is  the  ARN  of the IAM role in your Amazon Web Services ac-
                 count that Amazon Cognito will use to send SMS messages.  SMS
                 messages are subject to a spending limit .

              ExternalId -> (string)
                 The  external  ID is a value that you should use to add secu-
                 rity to your IAM role that is used to call Amazon SNS to send
                 SMS messages for your user pool. If you provide an ExternalId
                 , the Amazon Cognito User Pool will include it when  attempt-
                 ing  to  assume  your IAM role so that you can set your roles
                 trust policy to require the ExternalID . If you use the  Ama-
                 zon  Cognito  Management  Console  to  create  a role for SMS
                 multi-factor authentication (MFA), Amazon Cognito will create
                 a  role with the required permissions and a trust policy that
                 demonstrates use of the ExternalId .

                 For more information about the ExternalId of a role, see  How
                 to use an external ID when granting access to your Amazon Web
                 Services resources to a third party

       Shorthand Syntax:

          SmsAuthenticationMessage=string,SmsConfiguration={SnsCallerArn=string,ExternalId=string}

       JSON Syntax:

          {
            "SmsAuthenticationMessage": "string",
            "SmsConfiguration": {
              "SnsCallerArn": "string",
              "ExternalId": "string"
            }
          }

       --software-token-mfa-configuration (structure)
          The software token MFA configuration.

          Enabled -> (boolean)
              Specifies whether software token MFA is activated.

       Shorthand Syntax:

          Enabled=boolean

       JSON Syntax:

          {
            "Enabled": true|false
          }

       --mfa-configuration (string)
          The MFA configuration. If you set the MfaConfiguration value to  ON,
          only users with an MFA factor set up can sign in. To learn more, see
          Adding Multi-Factor Authentication (MFA) to a User Pool . Valid val-
          ues include:

          o OFF MFA won't be used for any users.

          o ON MFA is required for all users to sign in.

          o OPTIONAL  MFA  will be required only for individual users who have
            an MFA factor activated.

          Possible values:

          o OFF

          o ON

          o OPTIONAL

       --cli-input-json (string) Performs service operation based on the  JSON
       string  provided. The JSON string follows the format provided by --gen-
       erate-cli-skeleton. If other arguments  are  provided  on  the  command
       line,  the CLI values will override the JSON-provided values. It is not
       possible to pass arbitrary binary values using a JSON-provided value as
       the string will be taken literally.

       --generate-cli-skeleton  (string)  Prints  a  JSON skeleton to standard
       output without sending an API request. If provided with no value or the
       value input, prints a sample input JSON that can be used as an argument
       for --cli-input-json. If provided with the value output,  it  validates
       the command inputs and returns a sample output JSON for that command.

       See 'aws help' for descriptions of global parameters.

OUTPUT
       SmsMfaConfiguration -> (structure)
          The SMS text message MFA configuration.

          SmsAuthenticationMessage -> (string)
              The  SMS  authentication message that will be sent to users with
              the code they must sign in. The message must contain the  {####}
              placeholder,  which  is  replaced  with the code. If the message
              isn't included, and default message will be used.

          SmsConfiguration -> (structure)
              The SMS configuration.

              SnsCallerArn -> (string)
                 The Amazon Resource Name (ARN) of the Amazon SNS caller. This
                 is  the  ARN  of the IAM role in your Amazon Web Services ac-
                 count that Amazon Cognito will use to send SMS messages.  SMS
                 messages are subject to a spending limit .

              ExternalId -> (string)
                 The  external  ID is a value that you should use to add secu-
                 rity to your IAM role that is used to call Amazon SNS to send
                 SMS messages for your user pool. If you provide an ExternalId
                 , the Amazon Cognito User Pool will include it when  attempt-
                 ing  to  assume  your IAM role so that you can set your roles
                 trust policy to require the ExternalID . If you use the  Ama-
                 zon  Cognito  Management  Console  to  create  a role for SMS
                 multi-factor authentication (MFA), Amazon Cognito will create
                 a  role with the required permissions and a trust policy that
                 demonstrates use of the ExternalId .

                 For more information about the ExternalId of a role, see  How
                 to use an external ID when granting access to your Amazon Web
                 Services resources to a third party

       SoftwareTokenMfaConfiguration -> (structure)
          The software token MFA configuration.

          Enabled -> (boolean)
              Specifies whether software token MFA is activated.

       MfaConfiguration -> (string)
          The MFA configuration. Valid values include:

          o OFF MFA won't be used for any users.

          o ON MFA is required for all users to sign in.

          o OPTIONAL MFA will be required only for individual users  who  have
            an MFA factor enabled.



                                                    SET-USER-POOL-MFA-CONFIG()
